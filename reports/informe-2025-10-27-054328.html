<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dashboard Profesional Dinámico</title><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;500;600;700;800&display=swap" rel="stylesheet"><style>:root{--bg-color:#111827;--card-bg-color:#1f2937;--text-primary:#f9fafb;--text-secondary:#9ca3af;--primary-color:#6366f1;--primary-color-light:rgba(99,102,241,.2);--success-color:#34d399;--warning-color:#f59e0b;--border-color:#374151;--shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);--border-radius:16px}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideUp{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}body{font-family:'Urbanist',sans-serif;background-color:var(--bg-color);color:var(--text-primary);margin:0;padding:24px;animation:fadeIn .5s ease-out}.dashboard-container{max-width:1200px;margin:auto;display:grid;gap:24px;grid-template-columns:repeat(12,1fr)}.card{background-color:var(--card-bg-color);border-radius:var(--border-radius);padding:24px;border:1px solid var(--border-color);animation:slideUp .6s ease-out forwards;opacity:0;transform:translateY(20px)}.card:nth-child(1){animation-delay:.1s}.card:nth-child(2){animation-delay:.2s}.card:nth-child(3){animation-delay:.3s}.card:nth-child(4){animation-delay:.4s}.card:nth-child(5){animation-delay:.5s}.header{background:none;border:none}.header-title{font-size:2.5rem;font-weight:800;margin:0}.header-subtitle{font-size:1.25rem;color:var(--text-secondary);margin-top:4px}.kpi-grid{grid-column:1 / -1;display:grid;grid-template-columns:repeat(4,1fr);gap:24px}.kpi-card{text-align:center;transition:transform .3s ease,background-color .3s ease}.kpi-card:hover{transform:translateY(-5px);background-color:#2a3647}.kpi-title{font-size:1.1rem;font-weight:500;color:var(--text-secondary);margin-bottom:16px}.kpi-main-value{font-size:3.75rem;font-weight:700;line-height:1;color:var(--text-primary)}.kpi-chart-container{width:150px;height:150px;position:relative;margin:0 auto 16px}.kpi-chart-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.75rem;font-weight:800;color:var(--primary-color)}.kpi-chart-text .unit{font-size:1.5rem;color:var(--text-secondary)}.kpi-explanation{margin-top:16px;font-size:.9rem;color:var(--text-secondary);cursor:pointer;position:relative}.tooltip{visibility:hidden;width:250px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-125px;opacity:0;transition:opacity .3s;font-size:.8rem;line-height:1.4;border:1px solid var(--border-color)}.kpi-explanation:hover .tooltip{visibility:visible;opacity:1}.kpi-sub-value{font-size:2rem;font-weight:700;margin-top:8px;color:var(--text-primary)}.kpi-main-value.icon{font-size:3rem;line-height:1;color:var(--success-color)}.card-title{font-size:1.3rem;font-weight:600;margin-bottom:20px;display:flex;align-items:center;gap:10px}.card-title svg{width:24px;height:24px;flex-shrink:0}.time-dist-card{grid-column:1 / -1}.time-header{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;margin-bottom:24px;gap:16px}.total-time-stat span{font-size:1rem;color:var(--text-secondary);display:block}.total-time-stat strong{font-size:1.75rem;font-weight:700;color:var(--primary-color)}.time-content-grid{display:grid;grid-template-columns:1.2fr .8fr;align-items:center;gap:32px}.main-chart-container{max-height:300px}.breakdown-charts-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:24px}.time-chart-item{text-align:center}.time-chart-item canvas{max-height:100px;margin:auto}.chart-label{margin-top:8px;font-weight:500;font-size:1rem}.chart-sublabel{color:var(--text-secondary);font-size:.9rem}.chart-sublabel span{font-size:0.85em;color:var(--text-secondary)}.objectives-card{grid-column:span 12}.progress-bar-bg{height:10px;background-color:var(--border-color);border-radius:5px;overflow:hidden;margin-top:8px}.progress-bar-fill{height:100%;background-color:var(--primary-color);border-radius:5px;width:0;transition:width 1.5s cubic-bezier(.25,1,.5,1)}.progress-label{display:flex;justify-content:space-between;align-items:center}.progress-label span:last-child{font-weight:600;color:var(--primary-color)}.progress-item,.summary-card li{margin-bottom:16px;font-size:1rem}.summary-card{grid-column:span 6}.summary-card li{display:flex;align-items:center;padding-bottom:12px;border-bottom:1px solid var(--border-color)}.summary-card li svg{margin-right:12px;flex-shrink:0}.summary-card.positive li svg{color:var(--success-color)}.summary-card.improve li svg{color:var(--warning-color)}.ai-card{grid-column:span 6;background-color:var(--primary-color-light)}.ai-card p{line-height:1.7;color:var(--text-primary);margin:0;font-size:1rem}.ai-card .card-title{color:var(--primary-color)}@media (max-width:1024px){.kpi-grid{grid-template-columns:repeat(2,1fr)}.summary-card,.ai-card{grid-column:span 12}.time-content-grid{grid-template-columns:1fr}}@media (max-width:768px){body{padding:16px}.kpi-grid{grid-template-columns:1fr}.header-title{font-size:2rem}}</style></head><body><div id="dashboard" class="dashboard-container"></div><script>document.addEventListener('DOMContentLoaded',()=>{const config={
  "fecha": "26/10/2025",
  "creditos_totales": 893.33,
  "kpis": {
    "nota_dia_objetivo": {
      "puntuacion": 4,
      "explicacion": "Suma ponderada de tres áreas: 1) Salud (30%): nota_salud 6.00 * 0.3 = 1.80 pts. 2) Avance en objetivos (40% → máx 4 pts): evaluación de mínimos diarios obligatorios: proyectos personales/academia = no realizados (incumplimiento grave), deportivo = cumplido (1 h), social = cumplido (7.58 h). Uso móvil: 95 min → 35 min por encima de 60 min → penalización de 0.25 en esta sección. Dado el incumplimiento de las horas obligatorias de proyectos/academia, se asigna una puntuación base conservadora de 3.00/10 en esta área, menos la penalización por móvil de 0.25 → 2.75/10. Multiplicado por 0.4 → 2.75 * 0.4 = 1.10 pts (sobre 4). 3) Trabajo y Productividad (30% → máx 3 pts): la 'Nota de Productividad' no fue proporcionada; se infiere baja por la ausencia de horas en proyectos/estudios y alto tiempo social, por lo tanto se asigna Productividad = 3/10 → contribución 3 * 0.2 = 0.60 pts. 'Sentimiento sobre el trabajo/estudios' no indicado; se asume neutral = 5/10 → contribución 5 * 0.1 = 0.50 pts. Suma área trabajo = 0.60 + 0.50 = 1.10 pts (sobre 3). Total nota_dia_objetivo = 1.80 (salud) + 1.10 (avance) + 1.10 (trabajo) = 4.00/10. Notas y supuestos: cuando faltaron datos explícitos (nota de productividad, sentimiento laboral) se realizaron estimaciones conservadoras basadas en las actividades del día; estas estimaciones se indican arriba."
    },
    "nota_salud": {
      "puntuacion": 6,
      "explicacion": "Cálculo de 4 áreas (cada una máx. 2.5 pts): 1) Sueño: 4.5 h → categoría 'Menos de 7h' = 4/10 → 4/10 * 0.25 = 1.00 pts. 2) Comidas: desayuno con fruta (positivo), comida con sopa pero con patatas fritas, merienda con chuches y cena ausente → evaluación global 4/10 → 4/10 * 0.25 = 1.00 pts. 3) Sentimiento general: 'Satisfecho, Agradecido, Contento' → 8/10 → 8/10 * 0.25 = 2.00 pts. 4) Deporte: 1.00 h realizada → se considera nota alta (8/10) → 8/10 * 0.25 = 2.00 pts. Suma: 1.00 + 1.00 + 2.00 + 2.00 = 6.00/10."
    }
  },
  "objetivos_semanales": [
    {
      "nombre": "Entrenar 5 días a la semana",
      "avance": 83.33
    },
    {
      "nombre": "Journaling app (desarrollo de la aplicación)",
      "avance": 30.42
    }
  ],
  "resumen_dia": {
    "positivos": [
      "Buen estado de ánimo: te sientes satisfecho, agradecido y contento.",
      "Actividad deportiva cumplida: realizaste 1 hora de ejercicio."
    ],
    "a_mejorar": [
      "Sueño insuficiente: dormiste 4.5 horas, mejorar la duración del sueño es prioritario.",
      "Falta de tiempo dedicado a proyectos personales/estudios y uso del móvil por encima de 1 hora (95 min) — esto penaliza el avance en objetivos."
    ]
  },
  "distribucion_tiempo": [
    {
      "categoria": "Vida social",
      "horas": 7.58,
      "color": "#fbbf24"
    },
    {
      "categoria": "Deporte",
      "horas": 1,
      "color": "#f97316"
    },
    {
      "categoria": "Familia",
      "horas": 1.75,
      "color": "#6b7280"
    },
    {
      "categoria": "Descanso",
      "horas": 3.17,
      "color": "#9ca3af"
    },
    {
      "categoria": "Sueño",
      "horas": 4.5,
      "color": "#a78bfa"
    }
  ],
  "insights_ia": {
    "conclusion": "Hoy dedicaste 455 minutos (7h35) a 'Vida social', frente a 20 minutos el mismo día de la semana pasada, un aumento de 435 minutos que indica un cambio de prioridad significativo.<br><br>No se registró tiempo en 'Trabajo' ni en 'Proyectos personales' hoy, comparado con 390 minutos (6h30) y 275 minutos (4h35) respectivamente el mismo día la semana pasada.<br><br>Hoy invertiste 105 minutos en 'Familia' y 60 minutos en 'Deporte', que representan aproximadamente 37% y 24% de los totales semanales de la semana pasada en esas áreas, mostrando concentración de tiempo familiar y deportivo en un solo día.",
    "consejo": "Patrón detectado: las sesiones sociales largas anoche y hoy coinciden con ausencia de trabajo y proyectos al día siguiente, por lo que es probable que el tiempo social intenso desplace la productividad laboral.<br><br>Sugerencia práctica: reserva una ventana matutina inamovible de 60–180 minutos para trabajo o proyectos personales antes de participar en compromisos sociales para proteger el progreso en tareas clave.<br><br>Sugerencia práctica: alterna días de alta vida social con días bloqueados para trabajo y proyectos, y considera trasladar parte de las interacciones sociales a franjas horarias que no coincidan con tus horas productivas."
  }
};const container=document.getElementById('dashboard');const avgProgress=config.objetivos_semanales.length>0?config.objetivos_semanales.reduce((sum,obj)=>sum+obj.avance,0)/config.objetivos_semanales.length:0;const tiempoDespiertoData=config.distribucion_tiempo.filter(t=>t.categoria.toLowerCase()!=='sueño');const tiempoDespiertoHoras=tiempoDespiertoData.reduce((sum,t)=>sum+t.horas,0);container.innerHTML=`<div class="header card"><h1 class="header-title">Dashboard de Progreso</h1><p class="header-subtitle">${config.fecha}</p></div><div class="kpi-grid"><div class="card kpi-card"><div class="kpi-title">Avance Semanal</div><div class="kpi-chart-container"><canvas id="mainObjectiveChart"></canvas><div id="kpi-avg-progress" class="kpi-chart-text">0<span class="unit">%</span></div></div></div><div class="card kpi-card"><div class="kpi-title">Nota del Día</div><div id="kpi-nota-dia" class="kpi-main-value">0.00</div><div class="kpi-explanation">Ver explicación<span class="tooltip">${config.kpis.nota_dia_objetivo.explicacion}</span></div></div><div class="card kpi-card"><div class="kpi-title">Nota de Salud</div><div id="kpi-nota-salud" class="kpi-main-value">0.00</div><div class="kpi-explanation">Ver explicación<span class="tooltip">${config.kpis.nota_salud.explicacion}</span></div></div><div class="card kpi-card"><div class="kpi-title">Créditos Totales</div><div class="kpi-main-value icon">$</div><div id="kpi-creditos" class="kpi-sub-value">0.00</div></div></div><div class="card time-dist-card"><div class="time-header"><h2 class="card-title">Distribución del Tiempo</h2><div class="total-time-stat"><span>Tiempo Despierto Registrado</span><strong>${tiempoDespiertoHoras.toFixed(2)} horas</strong></div></div><div class="time-content-grid"><div class="main-chart-container"><canvas id="combinedTimeChart"></canvas></div><div class="breakdown-charts-container">${tiempoDespiertoData.map((item,index)=>`<div class="time-chart-item"><canvas id="timeChart${index}"></canvas><div class="chart-label">${item.categoria}</div><div class="chart-sublabel">${item.horas.toFixed(2)}h <span>(${(item.horas/tiempoDespiertoHoras*100).toFixed(1)}%)</span></div></div>`).join('')}</div></div></div><div class="card objectives-card"><h2 class="card-title">Progreso de Objetivos Semanales</h2>${config.objetivos_semanales.map((obj,i)=>`<div class="progress-item"><div class="progress-label"><span>${obj.nombre}</span><span>${obj.avance}%</span></div><div class="progress-bar-bg"><div id="progress-bar-${i}" class="progress-bar-fill"></div></div></div>`).join('')}</div><div class="card summary-card positive"><h2 class="card-title">Puntos Positivos</h2><ul>${config.resumen_dia.positivos.map(item=>`<li><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>${item}</li>`).join('')}</ul></div><div class="card summary-card improve"><h2 class="card-title">Puntos a Mejorar</h2><ul>${config.resumen_dia.a_mejorar.map(item=>`<li><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>${item}</li>`).join('')}</ul></div><div class="card ai-card"><h2 class="card-title"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v0A2.5 2.5 0 0 1 9.5 7v0A2.5 2.5 0 0 1 7 4.5v0A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 1 17 4.5v0A2.5 2.5 0 0 1 14.5 7v0A2.5 2.5 0 0 1 12 4.5v0A2.5 2.5 0 0 1 14.5 2Z"/><path d="M12 7.5c1.5 0 2.9.6 4 1.5l1.3-1.3c.6-.6.5-1.7-.1-2.3l-1-1c-.6-.6-1.7-.7-2.3-.1L12.7 5.5c-1.6-.4-3.2-.4-4.8 0L6.7 4.3c-.6-.6-1.7-.5-2.3.1l-1 1c-.6.6-.7 1.7-.1 2.3l1.3 1.3c1.1-.9 2.5-1.5 4-1.5Z"/><path d="M20.2 14.8a2.5 2.5 0 0 0-3.4 0l-1.6 1.6a2.5 2.5 0 0 0 0 3.4l.8.8c.9.9 2.5.9 3.4 0l1.6-1.6a2.5 2.5 0 0 0 0-3.4l-.8-.8Z"/><path d="M3.8 14.8a2.5 2.5 0 0 1 3.4 0l1.6 1.6a2.5 2.5 0 0 1 0 3.4l-.8.8c-.9.9-2.5.9-3.4 0l-1.6-1.6a2.5 2.5 0 0 1 0-3.4l.8-.8Z"/><path d="M12 13.5a2.5 2.5 0 0 0-2.5 2.5v0a2.5 2.5 0 0 0 2.5 2.5h0a2.5 2.5 0 0 0 2.5-2.5v0a2.5 2.5 0 0 0-2.5-2.5Z"/></svg>Conclusión IA</h2><p>${config.insights_ia.conclusion}</p></div><div class="card ai-card"><h2 class="card-title"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg>Consejo IA</h2><p>${config.insights_ia.consejo}</p></div>`;const rootStyles=getComputedStyle(document.documentElement),textColor=rootStyles.getPropertyValue("--text-secondary");Chart.defaults.color=textColor,Chart.defaults.font.family="'Urbanist', sans-serif",new Chart(document.getElementById("mainObjectiveChart"),{type:"doughnut",data:{datasets:[{data:[avgProgress,100-avgProgress],backgroundColor:[rootStyles.getPropertyValue("--primary-color"),rootStyles.getPropertyValue("--border-color")],borderWidth:0,borderRadius:50}]},options:{responsive:!0,cutout:"80%",plugins:{tooltip:{enabled:!1}}}}),new Chart(document.getElementById("combinedTimeChart"),{type:"doughnut",data:{labels:tiempoDespiertoData.map(d=>d.categoria),datasets:[{data:tiempoDespiertoData.map(d=>d.horas),backgroundColor:tiempoDespiertoData.map(d=>d.color),borderWidth:2,borderColor:rootStyles.getPropertyValue("--card-bg-color")}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:20}},tooltip:{callbacks:{label:function(e){const t=e.label||"",o=e.raw||0,a=tiempoDespiertoData.reduce((e,t)=>e+t.horas,0),r=a>0?(o/a*100).toFixed(1):0;return` ${t}: ${o.toFixed(2)}h (${r}%)`}}}}}}),tiempoDespiertoData.forEach((item,index)=>{new Chart(document.getElementById(`timeChart${index}`),{type:"doughnut",data:{datasets:[{data:[item.horas,tiempoDespiertoHoras-item.horas],backgroundColor:[item.color,"rgba(0,0,0,0.1)"],borderWidth:0}]},options:{responsive:!0,cutout:"75%",plugins:{legend:{display:!1},tooltip:{enabled:!1}}}})});function _animateValue(element,start,end,duration,decimals=2){let startTimestamp=null;const step=timestamp=>{startTimestamp||(startTimestamp=timestamp);const progress=Math.min((timestamp-startTimestamp)/duration,1),value=progress*(end-start)+start;element.innerHTML=value.toFixed(decimals),progress<1&&window.requestAnimationFrame(step)};window.requestAnimationFrame(step)}_animateValue(document.querySelector("#kpi-avg-progress"),0,avgProgress,1500,0),_animateValue(document.querySelector("#kpi-nota-dia"),0,config.kpis.nota_dia_objetivo.puntuacion,1500,2),_animateValue(document.querySelector("#kpi-nota-salud"),0,config.kpis.nota_salud.puntuacion,1500,2),_animateValue(document.querySelector("#kpi-creditos"),0,config.creditos_totales,1500,2),config.objetivos_semanales.forEach((obj,i)=>{document.getElementById(`progress-bar-${i}`).style.width=`${obj.avance}%`})});</script></body></html>